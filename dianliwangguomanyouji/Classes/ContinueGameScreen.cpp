////  ContinueGameScreen.cpp//  dianliwangguomanyouji////  Created by szsycx on 3/22/15.////#include "ContinueGameScreen.h"#include "GameScene.h"#include "LevelLose.h"ContinueGameScreen::ContinueGameScreen(){}ContinueGameScreen::~ContinueGameScreen(){}bool ContinueGameScreen::init(){    if(!Layer::init())        return false;    Size WinSize = Director::getInstance()->getVisibleSize();    Vec2 CenterPoint = Vec2(WinSize.width/2,WinSize.height/2);        auto bg = Sprite::create("game/xbg.png");    bg->setPosition(CenterPoint);        auto yes = Button::create("game/yes.png");    yes->addTouchEventListener([&](Ref * pSender , Widget::TouchEventType type){        switch (type)        {            case cocos2d::ui::Widget::TouchEventType::ENDED:            {                GameScene * game =static_cast<GameScene*>(getParent());                game->reContinue();                                getParent()->removeChildByTag(100);                getParent()->removeChildByTag(103);                int item4Number =UserDefault::getInstance()->getIntegerForKey("item4");                item4Number--;                UserDefault::getInstance()->setIntegerForKey("item4", item4Number);                UserDefault::getInstance()->flush();                game->showRightAnswerAndGotoNext();                Director::getInstance()->resume();            }                break;        }    });    auto no = Button::create("game/no.png");    no->addTouchEventListener([=](Ref * pSender , Widget::TouchEventType type){        switch (type)        {            case cocos2d::ui::Widget::TouchEventType::ENDED:            {                //之前就停止了所有的scene,不回复下就算创建新场景也是pause的                Director::getInstance()->resume();                GameScene * game =static_cast<GameScene*>(getParent());                game->lose();            }                break;        }    });    yes->setPosition(Vec2(WinSize.width/3.0,WinSize.height*1.0/10.0));    no->setPosition(Vec2(WinSize.width*2.0/3.0,WinSize.height*1.0/10.0));    addChild(bg);    addChild(yes);    addChild(no);    setTag(103);    return true;}